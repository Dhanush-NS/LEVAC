<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-Language Code Editor</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    body {
      background-color: #f0f0f0;
      padding: 20px;
    }
    .container {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }
    #codeEditor {
      width: 100%;
      height: 300px;
      font-family: monospace;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      resize: vertical;
      font-size: 14px;
    }
    #output {
      width: 100%;
      height: 150px;
      background-color: #f8f9fa;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      overflow-y: auto;
      font-family: monospace;
      font-size: 14px;
    }
    .btn-run {
      background-color: #28a745;
      color: white;
      padding: 8px 20px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    .btn-run:hover {
      background-color: #218838;
    }
    .language-select {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    h4 {
      color: #333;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="editor-side">
      <div class="p-2 d-flex justify-content-between align-items-center">
        <h4>Code Editor</h4>
        <button class="btn btn-run" id="runButton">Run Code</button>
      </div>
      <select id="languageDropdown" class="language-select">
        <option value="javascript">JavaScript</option>
        <option value="java">Java</option>
        <option value="python">Python</option>
        <option value="c">C</option>
        <option value="cpp">C++</option>
      </select>
      <textarea id="codeEditor" placeholder="Write your code here..."></textarea>
      <div id="output">
        <p>Output will appear here...</p>
      </div>
    </div>
  </div>

  <script>
    const languageConfigs = {
      javascript: { defaultCode: 'console.log("Hello, World!");' },
      java: { defaultCode: 'public class Main { public static void main(String[] args) { System.out.println("Hello, World!"); } }' },
      python: { defaultCode: 'print("Hello, World!")' },
      c: { defaultCode: '#include <stdio.h>\nint main() { printf("Hello, World!\\n"); return 0; }' },
      cpp: { defaultCode: '#include <iostream>\nint main() { std::cout << "Hello, World!" << std::endl; return 0; }' }
    };

    const codeEditor = document.getElementById('codeEditor');
    const languageDropdown = document.getElementById('languageDropdown');
    const runButton = document.getElementById('runButton');
    const output = document.getElementById('output');

    // Set default code when language changes
    languageDropdown.addEventListener('change', () => {
      const lang = languageDropdown.value;
      codeEditor.value = languageConfigs[lang].defaultCode;
      output.innerHTML = '<p>Output will appear here...</p>';
    });

    // Run button click handler
    runButton.addEventListener('click', () => {
      const lang = languageDropdown.value;
      const code = codeEditor.value;
      output.innerHTML = '<p>Running...</p>';

      if (lang === 'javascript') {
        try {
          let result = '';
          const originalConsoleLog = console.log;
          console.log = (message) => { result += message + '\n'; };
          eval(code);
          console.log = originalConsoleLog;
          output.innerHTML = '<pre>' + (result || 'No output') + '</pre>';
        } catch (error) {
          output.innerHTML = '<pre>Error: ' + error.message + '</pre>';
        }
      } else {
        output.innerHTML = '<pre>' + simulateOutput(lang, code) + '</pre>';
      }
    });

    // Simulate output for non-JavaScript languages
    function simulateOutput(lang, code) {
      let result = 'Code executed successfully!\n';

      if (lang === 'java') {
        const printRegex = /System\.out\.println\((.*?)\);/g;
        let match;
        while ((match = printRegex.exec(code)) !== null) {
          const content = match[1];
          result += (content.startsWith('"') && content.endsWith('"') ? content.slice(1, -1) : content) + '\n';
        }
      } else if (lang === 'python') {
        const printRegex = /print\((.*?)\)/g;
        let match;
        while ((match = printRegex.exec(code)) !== null) {
          const content = match[1];
          result += (content.startsWith('"') || content.startsWith("'") ? content.slice(1, -1) : content) + '\n';
        }
      } else if (lang === 'c') {
        const printRegex = /printf\("(.*?)"\);/g;
        let match;
        while ((match = printRegex.exec(code)) !== null) {
          result += match[1].replace('\\n', '\n') + '\n';
        }
      } else if (lang === 'cpp') {
        const printRegex = /std::cout\s*<<\s*"(.*?)"\s*<<\s*std::endl;/g;
        let match;
        while ((match = printRegex.exec(code)) !== null) {
          result += match[1] + '\n';
        }
      }

      return result || 'No recognizable output statements found.';
    }

    // Initialize with default code
    codeEditor.value = languageConfigs[languageDropdown.value].defaultCode;
  </script>
</body>
</html>