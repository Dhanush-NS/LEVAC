<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Java Videos and Code Editor</title>
  {% load static %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    /* Code editor and output styling */
    #codeEditor {
        width: 100%;
        height: 300px; /* Fixed height for mobile */
        font-family: monospace;
        padding: 10px;
        border: 1px solid #ccc;
        resize: none;
      }
      #output {
        width: 100%;
        height: 150px; /* Fixed height for mobile */
        background-color: #f8f9fa;
        padding: 10px;
        border: 1px solid #ccc;
        overflow-y: auto;
        font-family: monospace;
      }
      /* Run button styling */
    .btn-run {
        background-color: #28a745;
        color: white;
        padding: 5px 15px;
        border: none;
        margin: 10px 0;
      }
      .btn-run:hover {
        background-color: #218838;
      }
  </style>
</head>
<body>
  {% block content %}

  <!-- Code Editor Side -->
  <div class="editor-side">
    <div class="p-2">
        <h4>Java Code Editor</h4>
        <button class="btn btn-run" id="runButton">Run Code</button>
      </div>
    
    <textarea id="codeEditor" placeholder="Write your Java code here..."></textarea>
    <div id="output">
      
      <p>Output will appear here...</p>
    </div>
  </div>
  <script>
  // Run Button Click (Simulated for front-end only)
  runButton.addEventListener("click", function () {
    const code = codeEditor.value;
    output.innerHTML = "<p>Simulated Output:</p>";

    // This is just a simulation - In reality, you'd send the code to a backend
    output.innerHTML += "<pre>" + simulateJavaOutput(code) + "</pre>";
  });

  // Simple simulation of Java output (for frontend demo purposes only)
  function simulateJavaOutput(code) {
    let result = "Code executed successfully!\n";

    // Match System.out.println statements with strings or concatenated strings
    const printRegex = /System\.out\.println\((.*?)\);/g;
    let match;
    while ((match = printRegex.exec(code)) !== null) {
      // Extract the content inside println
      const content = match[1];

      // Remove quotes if it's a string literal
      if (content.startsWith('"') && content.endsWith('"')) {
        result += content.slice(1, -1) + "\n";
      } else {
        // For other cases (e.g., variables or concatenation), just display the content
        result += content + "\n";
      }
    }

    return result;
  }
</script>

{% endblock %}

</body>
</html>